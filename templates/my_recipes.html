{% extends "base.html" %}
{% block content %}

{% include "navigation.html" %}   


    <div class="page-title text-center">
        <h2>My Recipes</h2>
    </div>

    <section class="container-xl recipe-container mx1200">
    {% for recipe in recipes %}
        <article class="card recipe-card">
            <div>            
                <a href="{{ url_for('recipe', recipe_id=recipe._id )}}"><img src="{{ recipe.recipe_picture }}"
                    class="card-img-top" alt="Open Full Recipe"></a>
            </div>
            <div class="card-content2">                
                <div>                
                    <a class="card-title" href="{{ url_for('recipe', recipe_id=recipe._id )}}">{{ recipe.recipe_name }} </a>
                    <p class="card-description">{{ recipe.description }}</p>    
                </div> 
                <div class="text-center edit-delete-button">
                    {% if session.user|lower == recipe.uploaded_by|lower %}
                        <a href="{{ url_for('edit_recipe', recipe_id=recipe._id )}}" class="btn btn-warning">Edit Recipe</a>
                        <a href="#" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#confirmDelete{{ recipe._id }}">Delete Recipe</a>
                    {% endif %} 
                </div>             
                <div class="card-bottom">
                    <div class="recipe-index-category">
                        <i class="far fa-folder-open"></i>
                        {{ recipe.recipe_cagetory }}</div>
                    <div class="recipe-index-duration">
                        <i class="far fa-clock"></i>
                        {{ recipe.cooktime }} min</div>
                </div>            
            </div>
        </article>


        <!-- Modal -->
        <div class="modal fade" id="confirmDelete{{ recipe._id }}" tabindex="-1" aria-labelledby="confirmDeleteLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmDeleteLabel">Confirm Deletion</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Are you sure you wish to delete this recipe?
                </div>            
                <div class="modal-footer">                
                    <a href="{{ url_for('delete_recipe', recipe_id=recipe._id )}}" class="btn btn-danger">Delete Recipe</a>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>                
                </div>
                </div>
            </div>
        </div>

    {% endfor %}
    </section>    

    

    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#confirmDelete">
        Launch demo modal
        </button>

{% endblock %}



 