<section class="container-xl mx1200 text-center">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <form action="{{ url_for('search') }}" method="POST" class="d-flex">
                <input class="form-control me-2 mobile-resize" type="search" name="query" id="query" placeholder="Search"
                    aria-label="Search">
                <button class="button green-button" type="submit">Search</button>
                <a href="{{ url_for('get_recipes') }}" class="button green-button" type="submit">Reset</a>
            </form>            

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('get_recipes') }}">Home</a></li>
                    {% if session.user %}
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('upload_recipe') }}">Upload Recipe</a>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('my_recipes') }}">My Recipes</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('favorite_recipes') }}">Favourites</a>
                    </li>
                    <li class="nav-item"><a class="nav-link"
                            href="{{ url_for('profile', username=session['user']) }}">Profile</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('statistics') }}">Statistics</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('logout') }}">Log Out</a></li>
                    {% else %}
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('login') }}">Log In</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('register') }}">Register</a></li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>
    <div>
        {% if session.user %}
            You are logged in, {{ session.name }}!
        {% endif %}
    </div>
</section>

<section class="container-xl mx1200 food-categories-container text-center">
    <h4 class="choose-category">Choose a Category</h4>
    <h2 class="recipe-categories-title">Recipe Categories</h2>

    <div class="food-categories">
        <a href="{{ url_for('food_category', category='Appetizers', difficulty='All' ) }}">
            <img src="{{ url_for('static', filename='images/appetizer.jpg') }}" alt="" class="food-categories-img">
        </a>
        <h3 class="nav-category">Appetizers</h3>
    </div>
    <div class="food-categories text-center">
        <a href="{{ url_for('food_category', category='Soup', difficulty='All' ) }}">
            <img src="{{ url_for('static', filename='images/soup.jpg') }}" alt="" class="food-categories-img">
        </a>
        <h3 class="nav-category">Soup</h3>
    </div>
    <div class="food-categories text-center">
        <a href="{{ url_for('food_category', category='Main Course', difficulty='All' ) }}">
            <img src="{{ url_for('static', filename='images/main_course.jpg') }}" alt="" class="food-categories-img">
        </a>
        <h3 class="nav-category">Main Course</h3>
    </div>
    <div class="food-categories text-center">
        <a href="{{ url_for('food_category', category='Vegetarian', difficulty='All' ) }}">
            <img src="{{ url_for('static', filename='images/vegetarian.jpeg') }}" alt="" class="food-categories-img">
        </a>
        <h3 class="nav-category">Vegetarian</h3>
    </div>
    <div class="food-categories text-center">
        <a href="{{ url_for('food_category', category='Desserts', difficulty='All' ) }}">
            <img src="{{ url_for('static', filename='images/dessert.jpeg') }}" alt="" class="food-categories-img">
        </a>
        <h3 class="nav-category">Desserts</h3>
    </div>
    
    <div class="dropdown">
        <button class="btn dropdown-toggle cooking-level-dropdown button green-button" type="button" id="levelselector" data-bs-toggle="dropdown"
            aria-expanded="false">
            Cooking Level
        </button>
        {% if category %}
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
            <li><a class="dropdown-item"
                    href="{{ url_for('food_category', category=category, difficulty='Easy') }}">Easy</a></li>
            <li><a class="dropdown-item"
                    href="{{ url_for('food_category', category=category, difficulty='Medium') }}">Medium</a></li>
            <li><a class="dropdown-item"
                    href="{{ url_for('food_category', category=category, difficulty='Complex') }}">Complex</a></li>
            <div class="dropdown-divider"></div>
            <li><a class="dropdown-item"
                    href="{{ url_for('food_category', category=category, difficulty='All') }}">All</a></li>
        </ul>
        {% else %}
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
            <li><a class="dropdown-item"
                    href="{{ url_for('food_category', category='All', difficulty='Easy') }}">Easy</a></li>
            <li><a class="dropdown-item"
                    href="{{ url_for('food_category', category='All', difficulty='Medium') }}">Medium</a></li>
            <li><a class="dropdown-item"
                    href="{{ url_for('food_category', category='All', difficulty='Complex') }}">Complex</a></li>
            <div class="dropdown-divider"></div>
            <li><a class="dropdown-item"
                    href="{{ url_for('food_category', category=category, difficulty='All') }}">All</a></li>
        </ul>
        {% endif %}

    </div>

</section>